---
title: "Salesforce"
---

## Checklist before installing a Salesforce integration

We recommend you to verify the following requirements before installing the Salesforce integration:

### 1. Verify your Salesforce edition supports API access

Salesforce editions offer different levels of API access, which can affect Salesforce integrations in Ampersand.

Before setting up your Salesforce integrations, you must confirm whether your specific Salesforce edition includes API access. Some editions include full API access by default, while others may offer limited access or require additional purchases.

To evaluate if your Salesforce edition supports the necessary API access for this integration, please refer to [Salesforce's official documentation](https://help.salesforce.com/s/articleView?language=en_US&id=000385436&type=1) on API access by edition.

If your Salesforce edition does not include the required API access, contact your Salesforce account representative to upgrade your edition.

### 2. Configure token policy settings

Salesforce access tokens expire after a certain period. To ensure your integration continues working without interruption, you need to set your refresh token policy to **Refresh token is valid until revoked**.

Here's how to configure this setting in Salesforce:

1. Log in to *Salesforce*.
2. Go to **Setup**.
3. In the *Quick Find* box, search for **Connected Apps**.
4. Click on **Manage Connected Apps**.
5. Find and click on the name of the application you are integrating with.
6. Scroll down to the **OAuth Policies** section.
7. Look for **Refresh Token Policy**.
8. Under *IP Relaxation*, select **Relax IP restrictions**.
9. Make sure the refresh token policy is set to **Refresh token is valid until revoked**.

![Refresh Token Settings](/images/customer-guides/salesforce-refresh-token.png)

10.  Click **Save**.

### 3. Check API access control settings

Salesforce allows administrators to restrict which applications can access Salesforce data through APIs. You need to ensure that API access isn't limited to only specific connected apps.

To verify your API access control settings:

1. Log in to *Salesforce*.
2. Go to **Setup**.
3. In the *Quick Find* box, search for **Connected Apps OAuth Usage**.
4. Under the list of connected apps, find your app and click **Manage App Policies**.
5. In the *OAuth Policies* section, ensure the **Permitted Users** status is one of:
- *Admin approved users are pre-authorized* - only selected users can access.
- *All users may self-authorize* - all users can access the app.

![Permitted Users](/images/customer-guides/salesforce-3.gif)

If you need to modify these settings:

1. Click on **Install** next to your connected app.
2. In the **OAuth Usage and Policies** section, set the appropriate permissions level.
3. Click **Save**.

### 4. Ensure the installing user has API access in their profile

The user account that will be authorizing the integration must have API access enabled in their Salesforce profile.

To check and enable API access for a user profile:

1. Log in to *Salesforce*.
2. Go to **Setup**.
3. In the *Quick Find* box, type **Profiles**.
4. Click on **Profiles**.
5. Find and click on the profile of the user who will be installing the integration.
6. Look for **API Enabled** permission.
7. Make sure **API Enabled** is checked.

![API Enabled](/images/customer-guides/salesforce-4.gif)

8. If you need to edit the profile, click **Edit** at the top of the page.
9. Check the **API Enabled** box.
10. Click Save.

### 5. Salesforce Apps
Types of Connected Apps:

| Type                | Description                                                                                                                                    | Dashboard                                                     | Creation                                                 | Notes                                                                                                          |
|---------------------|------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------|----------------------------------------------------------|----------------------------------------------------------------------------------------------------------------|
| Installed App       | Installed from `AppExchange` or manually via `External Client App Manager`. Admins can control permissions, access policies, and OAuth scopes. | `Connected Apps OAuth Usage` table, shows `install` button.   | Click `install` in `Connected Apps OAuth Usage` table.   | Recommended for all integrations. Always managed by admins. Continues to function after September 2025 update. |
| Uninstalled App     | A connected app authorized by a user but never installed in the org. Custom integrations from customers or consulting partners.                | `Connected Apps OAuth Usage` table, shows `uninstall` button. | Cannot be created after September 2025.                  | Apps exist for historical reasons but are considered less secure.                                              |
| External Client App | The new Salesforce term for custom connected apps created via the modern interface.                                                            | Appears in `External Client App Manager`.                     | In `App Manager` press `New External Client App` button. | Salesforce’s current recommended method for creating integrations. Provides full admin control.                |

#### Salesforce September 2025 Update

Salesforce is introducing [new security restrictions on *uninstalled connected apps*](https://help.salesforce.com/s/articleView?id=005132365&type=1) starting September 2025.

`External Client Apps` replace legacy [Connected Apps](https://help.salesforce.com/s/articleView?id=xcloud.connected_app_overview.htm&type=5)
for all new integrations and are new generation of Connected Apps. `Uninstalled connected apps`
are integrations not distributed via `AppExchange` and not installed in your organization.
These apps do not appear in `Connected Apps OAuth Usage` with an **Install** button, which means admins
cannot set security and access policies for them. `Uninstalled Connected Apps` are now effectively legacy objects — only kept for backward compatibility.

They appear in `External Client App Manager`. They are designed to address the main shortcomings of the old connected apps:
* Hard to define separate user roles.
* Admins can configure policies and access.
* Clear separation between developer settings and admin-defined policies.
* Difficult to package and distribute.
* Optimized for 2GP packaging (second-generation packaging).
* Supports source-driven development on scratch orgs.

- **Key changes**:
- Non-admin users can no longer authorize new "uninstalled" connected apps.
- Existing users can keep using them *only if* they had previously authorized the app **and** it does not use the OAuth 2.0 device flow.

You can read more about the difference between old [*Connected Apps* and new *External Client Apps*](https://help.salesforce.com/s/articleView?id=xcloud.connected_apps_and_external_client_apps_features.htm&type=5).

### 6. Profile Permissions

Salesforce Profile has a list of checkboxes that you need to toggle to switch on permissions.
These are divided into `Object permissions` and `User Permissions` sections.

#### Object Permissions

Pre-requisites:
* Profiles can be restricted to the fields they can access. In order to check what profiles have access to an object's field
navigate to `Object Manager`, select object of interest and under `Fields & Relationship` tab you can examine field access by profiles.
Salesforce [reference docs are here.](https://help.salesforce.com/s/articleView?id=platform.checking_field_accessibility_for_a_particular_field.htm&type=5)

`Subscribe` and `Read` actions must have the following `object permissions` set within the profile:
* View All Records
* View All Fields

`Write` action needs permission:
* Modify All Records

#### User Permissions

Pre-requisites:
* Licence must be `regular Salesforce CRM`
* Licence not allowed `Salesforce Platform`.
* In `Profile` under `Administrative Permissions` section `API Enabled` must be checked.
* If using uninstalled connected apps then muse use `"Approve Uninstalled Connected Apps"` or `"Use Any API Client"` permission.
  * It is recommended to grant such permissions only to admins or developers who manage connected apps.
  * If API Access Control is enabled select `"Use Any API Client permission"`.
    * [API Access Control](https://help.salesforce.com/s/articleView?id=xcloud.security_api_access_control_about.htm&type=5) can be enabled by contacting Salesforce Customer Support.
  * Otherwise, choose `"Approve Uninstalled Connected Apps"` permission.

`Subscribe` action must have the following `user permissions` set in the profile:
* View Setup and Configuration
* View Roles and Role Hierarchy
* Manage Custom Permissions
* Customize Application
* Modify Metadata Through Metadata API Functions
* Allows users to modify Named Credentials and External Credentials
