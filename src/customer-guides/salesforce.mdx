---
title: "Salesforce"
---

## Checklist before installing a Salesforce integration

We recommend you to verify the following requirements before installing the Salesforce integration:

### 1. Verify your Salesforce edition supports API access

Salesforce editions offer different levels of API access, which can affect Salesforce integrations in Ampersand.

Before setting up your Salesforce integrations, you must confirm whether your specific Salesforce edition includes API access. Some editions include full API access by default, while others may offer limited access or require additional purchases.

To evaluate if your Salesforce edition supports the necessary API access for this integration, please refer to [Salesforce's official documentation](https://help.salesforce.com/s/articleView?language=en_US&id=000385436&type=1) on API access by edition.

If your Salesforce edition does not include the required API access, contact your Salesforce account representative to upgrade your edition.

### 2. Configure token policy settings

Salesforce access tokens expire after a certain period. To ensure your integration continues working without interruption, you need to set your refresh token policy to **Refresh token is valid until revoked**.

Here's how to configure this setting in Salesforce:

1. Log in to *Salesforce*.
2. Go to **Setup**.
3. In the *Quick Find* box, search for **Connected Apps**.
4. Click on **Manage Connected Apps**.
5. Find and click on the name of the application you are integrating with.
6. Scroll down to the **OAuth Policies** section.
7. Look for **Refresh Token Policy**.
8. Under *IP Relaxation*, select **Relax IP restrictions**.
9. Make sure the refresh token policy is set to **Refresh token is valid until revoked**.

![Refresh Token Settings](/images/customer-guides/salesforce-refresh-token.png)

10.  Click **Save**.

### 3. Check API access control settings

Salesforce allows administrators to restrict which applications can access Salesforce data through APIs. You need to ensure that API access isn't limited to only specific connected apps.

To verify your API access control settings:

1. Log in to *Salesforce*.
2. Go to **Setup**.
3. In the *Quick Find* box, search for **Connected Apps OAuth Usage**.
4. Under the list of connected apps, find your app and click **Manage App Policies**.
5. In the *OAuth Policies* section, ensure the **Permitted Users** status is one of:
- *Admin approved users are pre-authorized* - only selected users can access.
- *All users may self-authorize* - all users can access the app.

![Permitted Users](/images/customer-guides/salesforce-3.gif)

If you need to modify these settings:

1. Click on **Install** next to your connected app.
2. In the **OAuth Usage and Policies** section, set the appropriate permissions level.
3. Click **Save**.

### 4. Ensure the installing user has API access in their profile

The user account that will be authorizing the integration must have API access enabled in their Salesforce profile.

To check and enable API access for a user profile:

1. Log in to *Salesforce*.
2. Go to **Setup**.
3. In the *Quick Find* box, type **Profiles**.
4. Click on **Profiles**.
5. Find and click on the profile of the user who will be installing the integration.
6. Look for **API Enabled** permission.
7. Make sure **API Enabled** is checked.

![API Enabled](/images/customer-guides/salesforce-4.gif)

8. If you need to edit the profile, click **Edit** at the top of the page.
9. Check the **API Enabled** box.
10. Click Save.

### 5. Salesforce Apps
Salesforce integrations use [**Connected Apps**](https://help.salesforce.com/s/articleView?id=xcloud.connected_app_overview.htm&type=5)
or [**External Client Apps**](https://help.salesforce.com/s/articleView?id=xcloud.external_client_apps.htm&type=5).
Their differences are described [here](https://help.salesforce.com/s/articleView?id=xcloud.connected_apps_and_external_client_apps_features.htm&type=5).
Based on [new security restrictions on *uninstalled connected apps*](https://help.salesforce.com/s/articleView?id=005132365&type=1) starting September 2025, applications are divided into the following categories:

- **Installed App**
  * Installed from AppExchange or External Client App Manager.
  * Admins control permissions and OAuth scopes. Recommended for all integrations.
- **Uninstalled App**
  * Authorized by a user but never installed in the org.
  * Legacy apps which are restricted after Sept 2025.
  * Only trusted users with [special permissions](#user-permissions) can use them.
- **External Client App**
  * New generation of connected apps, created via `External Client App Manager`.
  * Fully admin-managed and recommended for all new integrations.

### 6. Profile Permissions

Your integration requires specific **object** and **user permissions** that must be enabled in the user's [Profile](#4-ensure-the-installing-user-has-api-access-in-their-profile).

#### Object Permissions

**Pre-requisites**:
- Profiles can be restricted to certain fields.
- To verify which profiles have access to an object's fields:
  1. Search for **Object Manager**.
  2. Select the object of interest.
  3. Go to the **Fields & Relationships** tab.
  4. Check field-level access for the relevant profiles.
[Salesforce reference docs are here.](https://help.salesforce.com/s/articleView?id=platform.checking_field_accessibility_for_a_particular_field.htm&type=5)

**Permissions for Ampersand's actions** -- users performing `Subscribe`, `Read` actions must have the following **object permissions** set in their profile:
* View All Records
* View All Fields
And `Write` action needs these permissions:
* Modify All Records

#### User Permissions

**Pre-requisites**:
- Licence must be **regular** Salesforce CRM (not **Salesforce Platform**).
- **API Enabled** must be on. This can be found in the profile under **Administrative Permissions**.
- If your integration uses **uninstalled** connected apps, the user must have one of the following permissions:
  * **"Approve Uninstalled Connected Apps"**
    * Choose this if [API Access Control](https://help.salesforce.com/s/articleView?id=xcloud.security_api_access_control_about.htm&type=5) is enabled. This can be done by contacting Salesforce Customer Support.
  * **"Use Any API Client"**
    * Choose this if [API Access Control](https://help.salesforce.com/s/articleView?id=xcloud.security_api_access_control_about.htm&type=5) is disabled.
  * ⚠️ Only grant these permissions to trusted admins or developers who manage connected apps.

**Permissions for Subscribe actions** -- users performing `Subscribe` actions must have the following **user permissions** set in their profile:
* View Setup and Configuration
* View Roles and Role Hierarchy
* Manage Custom Permissions
* Customize Application
* Modify Metadata Through Metadata API Functions
* Allows users to modify Named Credentials and External Credentials
